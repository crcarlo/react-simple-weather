{"version":3,"sources":["utils/HTTPRequest.js","components/SimpleWeather.js","example/WeatherCardRow.js","example/WeatherCard.js","App.js","serviceWorker.js","index.js"],"names":["getJSON","url","headers","arguments","length","undefined","queryString","Promise","resolve","reject","xhr","XMLHttpRequest","qs","i","key","value","getRequest","onload","progressEvent","_progressEvent$target","target","responseText","status","Error","onerror","open","setRequestHeader","header","send","get","then","res","JSON","parse","catch","err","getAltTemp","unit","temp","Math","round","SimpleWeather","state","_this2","this","_this$props","props","location","woeid","now","Date","weatherUrl","getFullYear","getMonth","getDay","getHours","test","setState","errorMessage","console","log","encodeURI","data","query","results","channel","description","forecast","result","weather","image404","title","item","condition","code","todayCode","currently","text","high","low","humidity","atmosphere","pressure","rising","visibility","sunrise","astronomy","sunset","city","country","region","updated","pubDate","link","units","temperature","distance","speed","wind","chill","direction","heatindex","pow","thumbnail","image","alt","push","_this$props2","children","restProps","Object","objectWithoutProperties","_this$state","react_default","a","createElement","Component","defaultProps","WeatherCardRow","_ref","icon","assign","style","display","justifyContent","width","paddingBottom","WeatherCard","weatherDescription","weatherCode","className","fontSize","flexDirection","textAlign","paddingTop","alignItems","toLowerCase","marginLeft","App","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","SimpleWeather_SimpleWeather","Boolean","window","hostname","match","ReactDOM","render","src_App_0","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.0b901449.chunk.js","sourcesContent":["const get = (url, headers = [], queryString = []) => {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tconst xhr = new XMLHttpRequest();\r\n\t\t// query string generation\r\n\t\tlet qs = '?';\r\n\t\tfor (let i = 0; i < queryString.length; i++) {\r\n\t\t\tqs = qs + queryString[i].key + '=' + queryString[i].value;\r\n\t\t\tif (i !== queryString.length - 1) {\r\n\t\t\t\tqs += '&';\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst getRequest =\r\n\t\t\t!queryString ||\r\n\t\t\tqueryString === undefined ||\r\n\t\t\tqueryString.length === 0\r\n\t\t\t\t? ''\r\n\t\t\t\t: qs;\r\n\t\txhr.onload = progressEvent => {\r\n\t\t\tconst { responseText, status } = progressEvent.target;\r\n\t\t\tif (status >= 200 || status < 400) {\r\n\t\t\t\tresolve(responseText);\r\n\t\t\t} else {\r\n\t\t\t\treject(\r\n\t\t\t\t\tError('HTTP response status code error: ' + responseText)\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t};\r\n\t\txhr.onerror = () => {\r\n\t\t\treject(Error('XMLHttpRequest error!'));\r\n\t\t};\r\n\t\txhr.open('get', url + getRequest, true);\r\n\t\tfor (let i = 0; i < headers.length; i++) {\r\n\t\t\txhr.setRequestHeader(headers[i].header, headers[i].value);\r\n\t\t}\r\n\t\txhr.send();\r\n\t});\r\n};\r\n\r\nexport const getJSON = (url, headers = [], queryString = []) => {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tget(url, headers, queryString)\r\n\t\t\t.then(res => {\r\n\t\t\t\tresolve(JSON.parse(res));\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\treject(err);\r\n\t\t\t});\r\n\t});\r\n};\r\n","import React, { Component } from 'react';\r\n\r\nimport { getJSON } from '../utils/HTTPRequest';\r\n\r\nconst getAltTemp = (unit, temp) => {\r\n\tif (unit === 'f') {\r\n\t\treturn Math.round((5.0 / 9.0) * (temp - 32.0));\r\n\t} else {\r\n\t\treturn Math.round((9.0 / 5.0) * temp + 32.0);\r\n\t}\r\n};\r\n\r\nexport default class SimpleWeather extends Component {\r\n\tstate = {};\r\n\r\n\tstatic defaultProps = {\r\n\t\tunit: 'c'\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tlet { location, woeid, unit } = this.props;\r\n\r\n\t\tlet now = new Date();\r\n\t\tlet weatherUrl =\r\n\t\t\t'https://query.yahooapis.com/v1/public/yql?format=json&rnd=' +\r\n\t\t\tnow.getFullYear() +\r\n\t\t\tnow.getMonth() +\r\n\t\t\tnow.getDay() +\r\n\t\t\tnow.getHours() +\r\n\t\t\t'&diagnostics=true&q=';\r\n\r\n\t\tif (location) {\r\n\t\t\t/* If latitude/longitude coordinates, need to format a little different. */\r\n\t\t\tif (/^(\\-?\\d+(\\.\\d+)?),\\s*(\\-?\\d+(\\.\\d+)?)$/.test(location)) {\r\n\t\t\t\tlocation = '(' + location + ')';\r\n\t\t\t} else {\r\n\t\t\t\tlocation = location;\r\n\t\t\t}\r\n\r\n\t\t\tweatherUrl +=\r\n\t\t\t\t'select * from weather.forecast where woeid in (select woeid from geo.places(1) where text=\"' +\r\n\t\t\t\tlocation +\r\n\t\t\t\t'\") and u=\"' +\r\n\t\t\t\tunit +\r\n\t\t\t\t'\"';\r\n\t\t} else if (woeid) {\r\n\t\t\tweatherUrl +=\r\n\t\t\t\t'select * from weather.forecast where woeid=' +\r\n\t\t\t\twoeid +\r\n\t\t\t\t' and u=\"' +\r\n\t\t\t\tunit +\r\n\t\t\t\t'\"';\r\n\t\t} else {\r\n\t\t\tthis.setState({\r\n\t\t\t\terrorMessage:\r\n\t\t\t\t\t'Could not retrieve weather due to an invalid location.'\r\n\t\t\t});\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tconsole.log('RETRIVING DATA FROM ', weatherUrl);\r\n\t\tconsole.log('RETRIVING DATA FROM ', encodeURI(weatherUrl));\r\n\t\tgetJSON(encodeURI(weatherUrl)).then(data => {\r\n\t\t\tconsole.log('DATA', data);\r\n\t\t\tif (\r\n\t\t\t\tdata !== null &&\r\n\t\t\t\tdata.query !== null &&\r\n\t\t\t\tdata.query.results !== null &&\r\n\t\t\t\tdata.query.results.channel.description !==\r\n\t\t\t\t\t'Yahoo! Weather Error'\r\n\t\t\t) {\r\n\t\t\t\tvar result = data.query.results.channel,\r\n\t\t\t\t\tweather = {},\r\n\t\t\t\t\tforecast,\r\n\t\t\t\t\tcompass = [\r\n\t\t\t\t\t\t'N',\r\n\t\t\t\t\t\t'NNE',\r\n\t\t\t\t\t\t'NE',\r\n\t\t\t\t\t\t'ENE',\r\n\t\t\t\t\t\t'E',\r\n\t\t\t\t\t\t'ESE',\r\n\t\t\t\t\t\t'SE',\r\n\t\t\t\t\t\t'SSE',\r\n\t\t\t\t\t\t'S',\r\n\t\t\t\t\t\t'SSW',\r\n\t\t\t\t\t\t'SW',\r\n\t\t\t\t\t\t'WSW',\r\n\t\t\t\t\t\t'W',\r\n\t\t\t\t\t\t'WNW',\r\n\t\t\t\t\t\t'NW',\r\n\t\t\t\t\t\t'NNW',\r\n\t\t\t\t\t\t'N'\r\n\t\t\t\t\t],\r\n\t\t\t\t\timage404 =\r\n\t\t\t\t\t\t'https://s.yimg.com/os/mit/media/m/weather/images/icons/l/44d-100567.png';\r\n\r\n\t\t\t\tweather.title = result.item.title;\r\n\t\t\t\tweather.temp = result.item.condition.temp;\r\n\t\t\t\tweather.code = result.item.condition.code;\r\n\t\t\t\tweather.todayCode = result.item.forecast[0].code;\r\n\t\t\t\tweather.currently = result.item.condition.text;\r\n\t\t\t\tweather.high = result.item.forecast[0].high;\r\n\t\t\t\tweather.low = result.item.forecast[0].low;\r\n\t\t\t\tweather.text = result.item.forecast[0].text;\r\n\t\t\t\tweather.humidity = result.atmosphere.humidity;\r\n\t\t\t\tweather.pressure = result.atmosphere.pressure;\r\n\t\t\t\tweather.rising = result.atmosphere.rising;\r\n\t\t\t\tweather.visibility = result.atmosphere.visibility;\r\n\t\t\t\tweather.sunrise = result.astronomy.sunrise;\r\n\t\t\t\tweather.sunset = result.astronomy.sunset;\r\n\t\t\t\tweather.description = result.item.description;\r\n\t\t\t\tweather.city = result.location.city;\r\n\t\t\t\tweather.country = result.location.country;\r\n\t\t\t\tweather.region = result.location.region;\r\n\t\t\t\tweather.updated = result.item.pubDate;\r\n\t\t\t\tweather.link = result.item.link;\r\n\t\t\t\tweather.units = {\r\n\t\t\t\t\ttemp: result.units.temperature,\r\n\t\t\t\t\tdistance: result.units.distance,\r\n\t\t\t\t\tpressure: result.units.pressure,\r\n\t\t\t\t\tspeed: result.units.speed\r\n\t\t\t\t};\r\n\t\t\t\tweather.wind = {\r\n\t\t\t\t\tchill: result.wind.chill,\r\n\t\t\t\t\tdirection:\r\n\t\t\t\t\t\tcompass[Math.round(result.wind.direction / 22.5)],\r\n\t\t\t\t\tspeed: result.wind.speed\r\n\t\t\t\t};\r\n\r\n\t\t\t\tif (\r\n\t\t\t\t\tresult.item.condition.temp < 80 &&\r\n\t\t\t\t\tresult.atmosphere.humidity < 40\r\n\t\t\t\t) {\r\n\t\t\t\t\tweather.heatindex =\r\n\t\t\t\t\t\t-42.379 +\r\n\t\t\t\t\t\t2.04901523 * result.item.condition.temp +\r\n\t\t\t\t\t\t10.14333127 * result.atmosphere.humidity -\r\n\t\t\t\t\t\t0.22475541 *\r\n\t\t\t\t\t\t\tresult.item.condition.temp *\r\n\t\t\t\t\t\t\tresult.atmosphere.humidity -\r\n\t\t\t\t\t\t6.83783 *\r\n\t\t\t\t\t\t\tMath.pow(10, -3) *\r\n\t\t\t\t\t\t\tMath.pow(result.item.condition.temp, 2) -\r\n\t\t\t\t\t\t5.481717 *\r\n\t\t\t\t\t\t\tMath.pow(10, -2) *\r\n\t\t\t\t\t\t\tMath.pow(result.atmosphere.humidity, 2) +\r\n\t\t\t\t\t\t1.22874 *\r\n\t\t\t\t\t\t\tMath.pow(10, -3) *\r\n\t\t\t\t\t\t\tMath.pow(result.item.condition.temp, 2) *\r\n\t\t\t\t\t\t\tresult.atmosphere.humidity +\r\n\t\t\t\t\t\t8.5282 *\r\n\t\t\t\t\t\t\tMath.pow(10, -4) *\r\n\t\t\t\t\t\t\tresult.item.condition.temp *\r\n\t\t\t\t\t\t\tMath.pow(result.atmosphere.humidity, 2) -\r\n\t\t\t\t\t\t1.99 *\r\n\t\t\t\t\t\t\tMath.pow(10, -6) *\r\n\t\t\t\t\t\t\tMath.pow(result.item.condition.temp, 2) *\r\n\t\t\t\t\t\t\tMath.pow(result.atmosphere.humidity, 2);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tweather.heatindex = result.item.condition.temp;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (result.item.condition.code == '3200') {\r\n\t\t\t\t\tweather.thumbnail = image404;\r\n\t\t\t\t\tweather.image = image404;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tweather.thumbnail =\r\n\t\t\t\t\t\t'https://s.yimg.com/zz/combo?a/i/us/nws/weather/gr/' +\r\n\t\t\t\t\t\tresult.item.condition.code +\r\n\t\t\t\t\t\t'ds.png';\r\n\t\t\t\t\tweather.image =\r\n\t\t\t\t\t\t'https://s.yimg.com/zz/combo?a/i/us/nws/weather/gr/' +\r\n\t\t\t\t\t\tresult.item.condition.code +\r\n\t\t\t\t\t\t'd.png';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tweather.alt = {\r\n\t\t\t\t\ttemp: getAltTemp(unit, result.item.condition.temp),\r\n\t\t\t\t\thigh: getAltTemp(unit, result.item.forecast[0].high),\r\n\t\t\t\t\tlow: getAltTemp(unit, result.item.forecast[0].low)\r\n\t\t\t\t};\r\n\t\t\t\tif (unit === 'f') {\r\n\t\t\t\t\tweather.alt.unit = 'c';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tweather.alt.unit = 'f';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tweather.forecast = [];\r\n\t\t\t\tfor (var i = 0; i < result.item.forecast.length; i++) {\r\n\t\t\t\t\tforecast = result.item.forecast[i];\r\n\t\t\t\t\tforecast.alt = {\r\n\t\t\t\t\t\thigh: getAltTemp(unit, result.item.forecast[i].high),\r\n\t\t\t\t\t\tlow: getAltTemp(unit, result.item.forecast[i].low)\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tif (result.item.forecast[i].code == '3200') {\r\n\t\t\t\t\t\tforecast.thumbnail = image404;\r\n\t\t\t\t\t\tforecast.image = image404;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tforecast.thumbnail =\r\n\t\t\t\t\t\t\t'https://s.yimg.com/zz/combo?a/i/us/nws/weather/gr/' +\r\n\t\t\t\t\t\t\tresult.item.forecast[i].code +\r\n\t\t\t\t\t\t\t'ds.png';\r\n\t\t\t\t\t\tforecast.image =\r\n\t\t\t\t\t\t\t'https://s.yimg.com/zz/combo?a/i/us/nws/weather/gr/' +\r\n\t\t\t\t\t\t\tresult.item.forecast[i].code +\r\n\t\t\t\t\t\t\t'd.png';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tweather.forecast.push(forecast);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.setState({ weather });\r\n\t\t\t} else {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\terrorMessage:\r\n\t\t\t\t\t\t'There was a problem retrieving the latest weather information.'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { location, unit, children, ...restProps } = this.props;\r\n\t\tconst { weather, errorMessage } = this.state;\r\n\r\n\t\tconsole.log('WEATHER', weather);\r\n\t\tconsole.log('ERROR MSG', errorMessage);\r\n\r\n\t\treturn <div {...restProps}>{children(weather, errorMessage)}</div>;\r\n\t}\r\n}\r\n","import React from 'react';\r\n\r\nexport default ({ icon, children, ...restProps }) => (\r\n\t<div\r\n\t\tstyle={{\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t\twidth: 260,\r\n\t\t\tpaddingBottom: 20\r\n\t\t}}\r\n\t\t{...restProps}\r\n\t>\r\n\t\t{icon}\r\n\t\t<div>{children}</div>\r\n\t</div>\r\n);\r\n","import React from 'react';\r\nimport WeatherCardRow from './WeatherCardRow';\r\n\r\nexport default ({\r\n\tlocation,\r\n\tweatherDescription,\r\n\tweatherCode,\r\n\ttemperature,\r\n\twind\r\n}) => (\r\n\t<div\r\n\t\tclassName=\"weather-card\"\r\n\t>\r\n\t\t<div\r\n\t\t\tstyle={{\r\n\t\t\t\tdisplay: 'flex',\r\n\t\t\t\tjustifyContent: 'space-between'\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tfontSize: 20,\r\n\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\tflexDirection: 'column',\r\n\t\t\t\t\tjustifyContent: 'center',\r\n\t\t\t\t\ttextAlign: 'left'\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{location.city}, {location.region}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style={{ fontSize: 16 }}>{location.country}</div>\r\n\t\t\t</div>\r\n\t\t\t<div style={{ width: 120 }}>\r\n\t\t\t\t<i\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tfontSize: 40,\r\n\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\tflexDirection: 'column',\r\n\t\t\t\t\t\tjustifyContent: 'center',\r\n\t\t\t\t\t\tpaddingBottom: 10\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tclassName={'wi wi-yahoo-' + weatherCode}\r\n\t\t\t\t/>\r\n\t\t\t\t<span>{weatherDescription}</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div\r\n\t\t\tstyle={{\r\n\t\t\t\tdisplay: 'flex',\r\n\t\t\t\tflexDirection: 'column ',\r\n\t\t\t\tpaddingTop: 40,\r\n\t\t\t\talignItems: 'center'\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<WeatherCardRow\r\n\t\t\t\ticon={\r\n\t\t\t\t\t<i\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tfontSize: 30\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tclassName=\"wi wi-thermometer\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<div style={{ fontSize: 24 }}>\r\n\t\t\t\t\t<span> {temperature}</span>\r\n\t\t\t\t\t<i className=\"wi wi-celsius\" />\r\n\t\t\t\t</div>\r\n\t\t\t</WeatherCardRow>\r\n\t\t\t<WeatherCardRow\r\n\t\t\t\ticon={\r\n\t\t\t\t\t<i\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tfontSize: 30\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tclassName={'wi wi-strong-wind'}\r\n\t\t\t\t\t/>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<div\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\tfontSize: 24\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<i\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tfontSize: 30\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t'wi wi-wind wi-from-' + wind.direction.toLowerCase()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<span style={{ marginLeft: 5 }}>\r\n\t\t\t\t\t\t{Math.round(wind.speed) + '  km/h'}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t</WeatherCardRow>\r\n\t\t</div>\r\n\t</div>\r\n);\r\n","import React, { Component } from 'react';\nimport './App.css';\nimport SimpleWeather from './components/SimpleWeather';\nimport WeatherCard from './example/WeatherCard';\n\nclass App extends Component {\n\tstate = {};\n\n\tcomponentDidMount() {\n\t\tnavigator.geolocation.getCurrentPosition(location => {\n\t\t\tconsole.log(\n\t\t\t\t'COORDS',\n\t\t\t\tlocation.coords.latitude + ',' + location.coords.longitude\n\t\t\t);\n\t\t\tthis.setState({\n\t\t\t\tlocation:\n\t\t\t\t\t//'45.6481607,12.340719'\n\t\t\t\t\tlocation.coords.latitude + ',' + location.coords.longitude\n\t\t\t});\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName=\"App\"\n\t\t\t\tstyle={{ display: 'flex', justifyContent: 'center' }}\n\t\t\t>\n\t\t\t\t{this.state.location ? (\n\t\t\t\t\t<SimpleWeather location={this.state.location} unit=\"c\">\n\t\t\t\t\t\t{(weather, errorMessage) => {\n\t\t\t\t\t\t\tif (errorMessage) {\n\t\t\t\t\t\t\t\treturn <div>{errorMessage}</div>;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (weather) {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<WeatherCard\n\t\t\t\t\t\t\t\t\t\tlocation={{\n\t\t\t\t\t\t\t\t\t\t\tcity: weather.city,\n\t\t\t\t\t\t\t\t\t\t\tregion: weather.region,\n\t\t\t\t\t\t\t\t\t\t\tcountry: weather.country\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tweatherDescription={weather.currently}\n\t\t\t\t\t\t\t\t\t\tweatherCode={weather.code}\n\t\t\t\t\t\t\t\t\t\ttemperature={weather.temp}\n\t\t\t\t\t\t\t\t\t\twind={weather.wind}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn <div>Loading</div>;\n\t\t\t\t\t\t}}\n\t\t\t\t\t</SimpleWeather>\n\t\t\t\t) : (\n\t\t\t\t\t<div>Loading</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}