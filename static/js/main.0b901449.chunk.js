(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var i=n(0),o=n.n(i),a=n(8),r=n.n(a),s=n(1),c=n(2),l=n(4),m=n(3),d=n(5),u=(n(14),n(6)),h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return new Promise(function(i,o){(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return new Promise(function(i,o){for(var a=new XMLHttpRequest,r="?",s=0;s<n.length;s++)r=r+n[s].key+"="+n[s].value,s!==n.length-1&&(r+="&");var c=n&&void 0!==n&&0!==n.length?r:"";a.onload=function(e){var t=e.target,n=t.responseText,a=t.status;a>=200||a<400?i(n):o(Error("HTTP response status code error: "+n))},a.onerror=function(){o(Error("XMLHttpRequest error!"))},a.open("get",e+c,!0);for(var l=0;l<t.length;l++)a.setRequestHeader(t[l].header,t[l].value);a.send()})})(e,t,n).then(function(e){i(JSON.parse(e))}).catch(function(e){o(e)})})},p=function(e,t){return"f"===e?Math.round(5/9*(t-32)):Math.round(1.8*t+32)},w=function(e){function t(){var e,n;Object(s.a)(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(n=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.location,i=t.woeid,o=t.unit,a=new Date,r="https://query.yahooapis.com/v1/public/yql?format=json&rnd="+a.getFullYear()+a.getMonth()+a.getDay()+a.getHours()+"&diagnostics=true&q=";if(n)r+='select * from weather.forecast where woeid in (select woeid from geo.places(1) where text="'+(n=/^(\-?\d+(\.\d+)?),\s*(\-?\d+(\.\d+)?)$/.test(n)?"("+n+")":n)+'") and u="'+o+'"';else{if(!i)return this.setState({errorMessage:"Could not retrieve weather due to an invalid location."}),!1;r+="select * from weather.forecast where woeid="+i+' and u="'+o+'"'}console.log("RETRIVING DATA FROM ",r),console.log("RETRIVING DATA FROM ",encodeURI(r)),h(encodeURI(r)).then(function(t){if(console.log("DATA",t),null!==t&&null!==t.query&&null!==t.query.results&&"Yahoo! Weather Error"!==t.query.results.channel.description){var n,i=t.query.results.channel,a={},r="https://s.yimg.com/os/mit/media/m/weather/images/icons/l/44d-100567.png";a.title=i.item.title,a.temp=i.item.condition.temp,a.code=i.item.condition.code,a.todayCode=i.item.forecast[0].code,a.currently=i.item.condition.text,a.high=i.item.forecast[0].high,a.low=i.item.forecast[0].low,a.text=i.item.forecast[0].text,a.humidity=i.atmosphere.humidity,a.pressure=i.atmosphere.pressure,a.rising=i.atmosphere.rising,a.visibility=i.atmosphere.visibility,a.sunrise=i.astronomy.sunrise,a.sunset=i.astronomy.sunset,a.description=i.item.description,a.city=i.location.city,a.country=i.location.country,a.region=i.location.region,a.updated=i.item.pubDate,a.link=i.item.link,a.units={temp:i.units.temperature,distance:i.units.distance,pressure:i.units.pressure,speed:i.units.speed},a.wind={chill:i.wind.chill,direction:["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW","N"][Math.round(i.wind.direction/22.5)],speed:i.wind.speed},i.item.condition.temp<80&&i.atmosphere.humidity<40?a.heatindex=2.04901523*i.item.condition.temp-42.379+10.14333127*i.atmosphere.humidity-.22475541*i.item.condition.temp*i.atmosphere.humidity-6.83783*Math.pow(10,-3)*Math.pow(i.item.condition.temp,2)-5.481717*Math.pow(10,-2)*Math.pow(i.atmosphere.humidity,2)+1.22874*Math.pow(10,-3)*Math.pow(i.item.condition.temp,2)*i.atmosphere.humidity+8.5282*Math.pow(10,-4)*i.item.condition.temp*Math.pow(i.atmosphere.humidity,2)-1.99*Math.pow(10,-6)*Math.pow(i.item.condition.temp,2)*Math.pow(i.atmosphere.humidity,2):a.heatindex=i.item.condition.temp,"3200"==i.item.condition.code?(a.thumbnail=r,a.image=r):(a.thumbnail="https://s.yimg.com/zz/combo?a/i/us/nws/weather/gr/"+i.item.condition.code+"ds.png",a.image="https://s.yimg.com/zz/combo?a/i/us/nws/weather/gr/"+i.item.condition.code+"d.png"),a.alt={temp:p(o,i.item.condition.temp),high:p(o,i.item.forecast[0].high),low:p(o,i.item.forecast[0].low)},a.alt.unit="f"===o?"c":"f",a.forecast=[];for(var s=0;s<i.item.forecast.length;s++)(n=i.item.forecast[s]).alt={high:p(o,i.item.forecast[s].high),low:p(o,i.item.forecast[s].low)},"3200"==i.item.forecast[s].code?(n.thumbnail=r,n.image=r):(n.thumbnail="https://s.yimg.com/zz/combo?a/i/us/nws/weather/gr/"+i.item.forecast[s].code+"ds.png",n.image="https://s.yimg.com/zz/combo?a/i/us/nws/weather/gr/"+i.item.forecast[s].code+"d.png"),a.forecast.push(n);e.setState({weather:a})}else e.setState({errorMessage:"There was a problem retrieving the latest weather information."})})}},{key:"render",value:function(){var e=this.props,t=(e.location,e.unit,e.children),n=Object(u.a)(e,["location","unit","children"]),i=this.state,a=i.weather,r=i.errorMessage;return console.log("WEATHER",a),console.log("ERROR MSG",r),o.a.createElement("div",n,t(a,r))}}]),t}(i.Component);w.defaultProps={unit:"c"};var f=function(e){var t=e.icon,n=e.children,i=Object(u.a)(e,["icon","children"]);return o.a.createElement("div",Object.assign({style:{display:"flex",justifyContent:"space-between",width:260,paddingBottom:20}},i),t,o.a.createElement("div",null,n))},g=function(e){var t=e.location,n=e.weatherDescription,i=e.weatherCode,a=e.temperature,r=e.wind;return o.a.createElement("div",{className:"weather-card"},o.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},o.a.createElement("div",{style:{fontSize:20,display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"left"}},o.a.createElement("div",null,t.city,", ",t.region),o.a.createElement("div",{style:{fontSize:16}},t.country)),o.a.createElement("div",{style:{width:120}},o.a.createElement("i",{style:{fontSize:40,display:"flex",flexDirection:"column",justifyContent:"center",paddingBottom:10},className:"wi wi-yahoo-"+i}),o.a.createElement("span",null,n))),o.a.createElement("div",{style:{display:"flex",flexDirection:"column ",paddingTop:40,alignItems:"center"}},o.a.createElement(f,{icon:o.a.createElement("i",{style:{fontSize:30},className:"wi wi-thermometer"})},o.a.createElement("div",{style:{fontSize:24}},o.a.createElement("span",null," ",a),o.a.createElement("i",{className:"wi wi-celsius"}))),o.a.createElement(f,{icon:o.a.createElement("i",{style:{fontSize:30},className:"wi wi-strong-wind"})},o.a.createElement("div",{style:{display:"flex",alignItems:"center",fontSize:24}},o.a.createElement("i",{style:{fontSize:30},className:"wi wi-wind wi-from-"+r.direction.toLowerCase()}),o.a.createElement("span",{style:{marginLeft:5}},Math.round(r.speed)+"  km/h")))))},y=function(e){function t(){var e,n;Object(s.a)(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(n=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;navigator.geolocation.getCurrentPosition(function(t){console.log("COORDS",t.coords.latitude+","+t.coords.longitude),e.setState({location:t.coords.latitude+","+t.coords.longitude})})}},{key:"render",value:function(){return o.a.createElement("div",{className:"App",style:{display:"flex",justifyContent:"center"}},this.state.location?o.a.createElement(w,{location:this.state.location,unit:"c"},function(e,t){return t?o.a.createElement("div",null,t):e?o.a.createElement(g,{location:{city:e.city,region:e.region,country:e.country},weatherDescription:e.currently,weatherCode:e.code,temperature:e.temp,wind:e.wind}):o.a.createElement("div",null,"Loading")}):o.a.createElement("div",null,"Loading"))}}]),t}(i.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,n){e.exports=n(16)}},[[9,2,1]]]);
//# sourceMappingURL=main.0b901449.chunk.js.map